{
  "hash": "b11ce6e3c83161f05030b10ede9372d8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Картограммы\nsubtitle: Визуализация пространственных данных\ndate: today\ndate-format: long\nauthor: Самсонов Тимофей Евгеньевич\nexecute:\n  echo: false\n  freeze: true\nformat:\n  revealjs:\n    theme:\n      - default\n      - custom.scss\n    margin: 0.2\n    width: 1280\n    height: 720\n    slide-number: true\n    footer: 'Самсонов Т. Е. Визуализация пространственных данных: курс лекций'\n    header-includes: '<link rel=\"stylesheet\" media=\"screen\" href=\"https://fontlibrary.org//face/pt-sans\" type=\"text/css\"/>'\nbibliography: references.yaml\nmainfont: PT Sans\n---\n\n## Картограммы\n\nПри использовании картограмм для визуализации пространственных данных необходимо учитывать следующие аспекты:\n\n1.  Стандартизация данных\n2.  Различия в цветовых шкалах и критерии их выбора\n3.  Использование методов классификации или непрерывных шкал\n4.  Оформление легенды\n5.  Оценка визуальной сложности\n6.  Технические возможности программных библиотек\n\n## Стандартизация\n\nПоскольку единицы картографирования имеют разный размер, необходимо выполнять **стандартизацию** данных — нормировку сумм и площадей.\n\nПри стандартизации используются отношения:\n\n1.  Площадь на площадь\n\n2.  Сумма на площадь\n\n3.  Сумма на сумму\n\n::: callout-note\n## Сумма и площадь\n\nПод суммой в данном случае понимается показатель, не являющийся площадью. Например, объем заготавливаемой древесины. Ему можно противопоставить площадь лесов.\n:::\n\n::: callout-tip\n## Стандартизация без площадей\n\nПри делении суммы на сумму косвенным образом учитывается и неравенство площадей, т.к. более крупные площади часто имеют и более крупные суммы показателей.\n:::\n\n## Стандартизация\n\n**Пример**: доля возделываемых площадей, с которых собирается урожай (А) и урожайность с единицы площади (В)\n\n![От типа стандартизации зависит пространственное распределение показателя](images/clipboard-3281427333.png){fig-align=\"left\"}\n\n## Цветовые шкалы\n\n**Последовательные** шкалы используются для отображения *униполярных* показателей (не имеющих нейтральное значение).\n\n::: columns\n::: {.column width=\"50%\"}\n**Одноцветные**\n\n::: {#d1ef191c .cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-2-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-2-output-2.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-2-output-3.png){width=540 height=98}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n**Многоцветные**\n\n::: {#33f5b1bf .cell execution_count=2}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-3-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-3-output-2.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-3-output-3.png){width=540 height=98}\n:::\n:::\n\n\n:::\n:::\n\nВ последовательных шкалах понижается светлота и увеличивается насыщенность.\n\n## Цветовые шкалы\n\n**Расходящиеся** шкалы используются для отображения *биполярных* показателей (имеющих нейтральное значение, обычно $0$).\n\n::: columns\n::: {.column width=\"50%\"}\n**Двухцветные**\n\n::: {#11c9b200 .cell execution_count=3}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-4-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-4-output-2.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-4-output-3.png){width=540 height=98}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n**Трехцветные**\n\n::: {#6bd31fdf .cell execution_count=4}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-5-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-5-output-2.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-5-output-3.png){width=540 height=98}\n:::\n:::\n\n\n:::\n:::\n\nРасходящиеся шкалы получаются путем объединения двух последовательных шкал\n\n## Цветовые шкалы\n\n**Категориальные** шкалы используются для отображения *номинальных* (качественных) показателей.\n\n::: columns\n::: {.column width=\"50%\"}\n**Насыщенные**\n\n::: {#04f061b2 .cell execution_count=5}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-6-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-6-output-2.png){width=540 height=98}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n**Пастельные**\n\n::: {#cb6a4f00 .cell execution_count=6}\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-7-output-1.png){width=540 height=98}\n:::\n\n::: {.cell-output .cell-output-display}\n![](03_Choropleths_files/figure-revealjs/cell-7-output-2.png){width=540 height=98}\n:::\n:::\n\n\n:::\n:::\n\nДля категориальных шкал важна одинаковая светлота и насыщенность элементов.\n\n::: callout-warning\n## Номинальные данные\n\nНоминальные данные нельзя картографировать с помощью последовательных и расходящихся шкал\n:::\n\n## Color Brewer\n\nДля выбора шкал удобно использовать сайт **Color Brewer**. Его шкалы есть в `matplotlib` и `seaborn`.\n\n![](images/clipboard-4208284786.png)\n\n## Классификация или нет?\n\nНеклассифицированные картограммы точнее отображают данные, однако могут быть трудны для восприятия в зависимости от распределения показателя.\n\n![](images/clipboard-2225744427.png)\n\n## Классификация или нет?\n\nНеклассифицированные картограммы точнее отображают данные, однако могут быть трудны для восприятия в зависимости от распределения показателя.\n\n![](images/clipboard-3658542196.png)\n\n## Легенда\n\n::: columns\n::: {.column width=\"50%\"}\nВ *американской* картографической школе принято плашки для легенды картограмм показывать **слитно**, т.к. это указывает на соседство учетных единиц\n\n![](images/clipboard-129992976.png)\n\nДопускается указание границ вместо интервалов\n:::\n\n::: {.column width=\"50%\"}\nВ *русской* школе плашки для легенды картограмм принято показывать **раздельно**, т.к. учетные единицы могут не быть в соседних классах\n\n![](images/clipboard-3237029520.png)\n:::\n:::\n\n## Легенда\n\n::: columns\n::: {.column width=\"40%\"}\nЭлементы упорядочиваются последовательно, при этом предпочтительным вариантом является увеличение слева направо (**A**) и снизу вверх (**C**).\n\nДругие варианты допустимы, но менее ассоциативны (читаем слева направо, выше — больше).\n\n::: callout-tip\n## Количество классов\n\nЧитатель карты нормально различает 5, в некоторых случаях до 7 классов. Больше делать не рекомендуется.\n:::\n:::\n\n::: {.column width=\"60%\"}\n![](images/clipboard-2755071279.png)\n:::\n:::\n\n## Визуальная сложность\n\n**Сложность**: визуальная загруженность, мозаичность изображения\n\n$$C = \\frac{N_{c}}{N},$$\n\nгде $N$ — общее число полигонов/границ/вершин в полном наборе единиц, $N_c$ — число тех же элементов после объединения единиц, попадающих в один класс.\n\n::: callout-tip\n## Интерпретация\n\nСложность картограмм показывает на какое количество однородных областей делится изображение при выбранном методе классификации и количестве классов.\n:::\n\n::: callout-note\n## Применение\n\nНаилучшие картограммы получаются при оптимальном сочетании добротности классификации (GADF) и визуальной сложности (C).\n:::\n\n## Визуальная сложность\n\nВ зависимости от выбранного метода классификации и количества классов будет меняться характер распределения и его визуальная сложность.\n\n![Фишер-Дженкс (k = 8, C = 0.47)](images/clipboard-3894783524.png){fig-align=\"left\"}\n\n## Визуальная сложность\n\nВ зависимости от выбранного метода классификации и количества классов будет меняться характер распределения и его визуальная сложность.\n\n![Квантили (k = 4, C = 0.31)](images/clipboard-4107761414.png){fig-align=\"left\"}\n\n## Библиография\n\n",
    "supporting": [
      "03_Choropleths_files"
    ],
    "filters": [],
    "includes": {}
  }
}