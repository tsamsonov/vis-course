{
  "hash": "9ea952cacba772e53b727d17b6807d1f",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Значки и картодиаграммы\nsubtitle: Визуализация пространственных данных\ndate: today\ndate-format: long\nauthor: Самсонов Тимофей Евгеньевич\nexecute:\n  echo: false\n  freeze: true\nformat:\n  revealjs:\n    theme:\n      - default\n      - custom.scss\n    margin: 0.2\n    width: 1280\n    height: 720\n    slide-number: true\n    footer: 'Самсонов Т. Е. Визуализация пространственных данных: курс лекций'\n    header-includes: '<link rel=\"stylesheet\" media=\"screen\" href=\"https://fontlibrary.org//face/pt-sans\" type=\"text/css\"/>'\nbibliography: references.yaml\nmainfont: PT Sans\n---\n\n## Значки и картодиаграммы\n\n![](images/clipboard-687983613.png){width=\"100%\"}\n\n## Значки и картодиаграммы\n\nВ западной (американской) школе эти способы изображения считаются одним — **proportional symbols**.\n\n-   Символы диаграмм размещаются в точках, но точки бывают двух видов — реальные и концептуальные.\n-   Реальные точки соответствуют точечным объектам в масштабе картографирования\n-   Концептуальные точки используются для размещения диаграмм внутри площадных территориальных единиц.\n\n::: callout-tip\n## Концептуальные точки\n\nПоиск оптимального местоположения для концептуальной точки — отдельная вычислительная задача\n:::\n\n## Вычисление размера\n\n::: columns\n::: {.column width=\"20%\"}\n![](images/clipboard-935605907.png){width=\"100%\"}\n:::\n\n::: {.column width=\"80%\"}\nВ отличие от картограмм для порпорциональных символов редко используется классификация, т.к. легко оценить размеры.\n\n1.  Задается площадь символа $S_{min}$, соответствующая минимальному значению показателя $V_{min}$\n\n2.  Площадь символа для произвольного значения $V$ будет равна:\n\n    $$\n    S = S_{min} \\frac{V}{V_{min}}\n    $$\n\n    Однако шкала может быть и относительной, если задается максимальный размер диаграммы $S_{max}$:\n\n    $$\n    S = S_{min} + (S_{max} - S_{min}) \\frac{V - V_{min}}{V_{max} - V_{min}}\n    $$\n:::\n:::\n\n## Оптимизация\n\n::: columns\n::: {.column width=\"50%\"}\n**Оптимальный размер**\n\n-   Размер диаграмм должен быть таким, чтобы он не давал избыточного перекрытия или наоборот пустоты на карте.\n\n-   Экспериментальные исследования говорят, что человек недооценивает размеры объектов. Можно использовать компенсацию *Флэннери*:\n\n    $$\n    \\widehat S = 1.01902 \\cdot S^{1.14325}\n    $$\n:::\n\n::: {.column width=\"50%\"}\n**Оптимальное размещение**\n\n-   Расположение концептуальной точки необходимо определять алгоритмически:\n\n    -   центроид, точка в полигоне, центр максимальной вписанной окружности.\n\n-   В случае использования значков они могут быть раздвинуты для обеспечения читаемости в ущерб точности расположения\n:::\n:::\n\n## Концептуальная точка\n\n**Центроид**\n\n![](images/clipboard-1595657423.png)\n\n## Концептуальная точка\n\n**Точка на поверхности**\n\n![](images/clipboard-3372775963.png)\n\n## Концептуальная точка\n\n**Центр максимальной вписанной окружности**\n\n![](images/clipboard-547672974.png)\n\n## Центр макс. вписанной окружности\n\nПостроить диаграмму Вороного для точек на границе региона\n\n![](images/clipboard-1321400217.png)\n\n## Центр макс. вписанной окружности\n\nОтобрать только те ребра диаграммы, которые располагаются внутри регионы (`CONTAINS_PROPERLY`):\n\n![](images/clipboard-1896654347.png)\n\n## Центр макс. вписанной окружности\n\nДля всех вершин ребер вычислить расстояние до границы региона\n\n![](images/clipboard-574950881.png)\n\n## Центр макс. вписанной окружности\n\nВыбрать среди них вершину с максимальным расстоянием\n\n![](images/clipboard-185457508.png)\n\n## Библиография\n\n",
    "supporting": [
      "04_Diagrams_files"
    ],
    "filters": [],
    "includes": {}
  }
}